@using WorldCup.Extensions
@model WorldCup.Common.Entities.Match

@{
    ViewBag.Title = "Edit match details";
}

<h3>Edit match details @Model.HomeTeam.Name vs @Model.AwayTeam.Name</h3>

@using (Html.BeginForm("Edit", "AdminMatches", FormMethod.Post, new {role = "form"}))
{
    @Html.HiddenFor(m => m.Id)
    <div class="row">
        <div class='col-md-6'>
            <div class="form-group">
                @Html.LabelFor(m => m.Stage)
                @Html.EnumDropDownListFor(m => m.Stage, new {@class = "form-control", disabled = "disabled"})
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.HomeTeamId)
                @Html.DropDownListFor(m => m.HomeTeamId, new SelectList(ViewBag.Teams, "Id", "Name"), new {@class = "form-control", disabled = "disabled"})
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.AwayTeamId)
                @Html.DropDownListFor(m => m.AwayTeamId, new SelectList(ViewBag.Teams, "Id", "Name"), new {@class = "form-control", disabled = "disabled"})
            </div>
            <div class='col-md-7'>
                <div class="form-group">
                    @Html.LabelFor(m => m.Date)
                    @Html.EditorFor(m => m.Date, "_DateTime")
                    <span class="label label-danger">The date and time should be UTC</span>
                </div>
            </div>
        </div>
        <div class='col-md-3'>
            <div class="form-group">
                @Html.LabelFor(m => m.HomeTeamHalfTimeGoals, string.Format("{0} half time goals", Model.HomeTeam.Name))
                @Html.BootstrapEditorFor(m => m.HomeTeamHalfTimeGoals)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.AwayTeamHalfTimeGoals, string.Format("{0} half time goals", Model.AwayTeam.Name))
                @Html.BootstrapEditorFor(m => m.AwayTeamHalfTimeGoals)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.HomeTeamFullTimeGoals, string.Format("{0} full time goals", Model.HomeTeam.Name))
                @Html.BootstrapEditorFor(m => m.HomeTeamFullTimeGoals)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.AwayTeamFullTimeGoals, string.Format("{0} full time goals", Model.AwayTeam.Name))
                @Html.BootstrapEditorFor(m => m.AwayTeamFullTimeGoals)
            </div>
        </div>
        <div class='col-md-3'>
            <div class="form-group">
                @Html.LabelFor(m => m.YellowCards, "Yellow cards*")
                @Html.BootstrapEditorFor(m => m.YellowCards)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.RedCards, "Red cards*")
                @Html.BootstrapEditorFor(m => m.RedCards)
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Result, "Final result*")
                @Html.DropDownListFor(m => m.Result, Model.Result.ToSelectList(Model), new {@class = "form-control"})
                <span class="help-block">* = after extra time or penalties</span>
            </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
}