@using GridMvc.Html
@model WorldCup.Models.HomeViewModel

@{
    ViewBag.Title = "Home Page";
}

<div class="jumbotron">
    <p class="lead">This is a small web application for predictions regarding World Cup 2014</p>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Users rating</h2>
        <p>
            Maybe a list with the top users according to current results
        </p>
    </div>
    <div class="col-md-6">
        <h2>Upcoming matches</h2>
        @Html.Grid(Model.UpcomingMatches).Named("matches").Columns(columns =>
        {
            columns.Add(u => u.Id, true);
            columns.Add(u => u.Date.Date).Titled("Date").SetWidth(30);
            columns.Add(m => m.Stage).Titled("Stage").SetWidth(10);
            columns.Add(u => u.HomeTeam.Name)
                .Encoded(false)
                .Sanitized(false)
                .RenderValueAs(u => Html.Partial("_FlaggedTeam", new[] { u.HomeTeam.Name, u.HomeTeam.Code }))
                .Titled("Home Team")
                .SetWidth(30);
            columns.Add(u => u.AwayTeam.Name)
                .Encoded(false)
                .Sanitized(false)
                .RenderValueAs(u => Html.Partial("_FlaggedTeam", new[] { u.AwayTeam.Name, u.AwayTeam.Code }))
                .Titled("Away Team")
                .SetWidth(30);
        })
    </div>
</div>